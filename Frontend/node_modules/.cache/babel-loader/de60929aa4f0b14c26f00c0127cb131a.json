{"ast":null,"code":"var _jsxFileName = \"/Users/ajay/Desktop/Cmp202 Project-2/team-project-tingting/Frontend/src/components/Login/Login.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport cookie from \"react-cookies\";\nimport { Navigate } from \"react-router\";\nimport Signup from \"../Signup/Signup.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.usernameChangeHandler = e => {\n      this.setState({\n        username: e.target.value\n      });\n    };\n\n    this.passwordChangeHandler = e => {\n      this.setState({\n        password: e.target.value\n      });\n    };\n\n    this.submitLogin = e => {\n      // var headers = new Headers();\n      e.preventDefault();\n      fetch(\"http://localhost:3001/users\").then(response => {\n        if (!response.ok) {\n          throw new Error(response.statusText);\n        }\n\n        return response.json().then(data => {\n          console.log(data);\n        });\n      }).catch(error => {\n        console.log(error);\n        alert(\"Failed\");\n      }); // const data = {\n      //   username: this.state.username,\n      //   password: this.state.password,\n      // };\n      //set the with credentials to true\n      // axios.defaults.withCredentials = true;\n      //make a post request with the user data\n      // axios.post(\"http://localhost:3001/login\", data).then((response) => {\n      //   console.log(\"Status Code : \", response.status);\n      //   if (response.status === 200) {\n      //     this.setState({\n      //       authFlag: true,\n      //     });\n      //   } else {\n      //     this.setState({\n      //       authFlag: false,\n      //     });\n      //   }\n      // });\n    };\n\n    this.submitSignup = e => {\n      window.location.assign(\"signup\");\n    };\n\n    this.state = {\n      username: \"\",\n      password: \"\",\n      authFlag: false\n    };\n    this.usernameChangeHandler = this.usernameChangeHandler.bind(this);\n    this.passwordChangeHandler = this.passwordChangeHandler.bind(this);\n    this.submitLogin = this.submitLogin.bind(this);\n  } //set auth to false\n\n\n  componentWillMount() {\n    this.setState({\n      authFlag: false\n    });\n  }\n\n  render() {\n    //redirect based on successful login\n    let redirectVar = null;\n\n    if (cookie.load(\"cookie\")) {\n      redirectVar = /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/flight\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [redirectVar, /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"container\",\n        style: {\n          fontFamily: \"Copperplate\",\n          fontSize: \"20px\",\n          width: \"600px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"login-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"main-div\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"panel\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Please enter your username and password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: this.usernameChangeHandler,\n                type: \"text\",\n                class: \"form-control\",\n                name: \"username\",\n                placeholder: \"Username\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: this.passwordChangeHandler,\n                type: \"password\",\n                class: \"form-control\",\n                name: \"password\",\n                placeholder: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: this.submitLogin,\n              class: \"btn btn-primary\",\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: \"10px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: this.submitSignup,\n              class: \"btn btn-primary\",\n              children: \"Signup\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this);\n  }\n\n} //export Login Component\n\n\nexport default Login;","map":{"version":3,"sources":["/Users/ajay/Desktop/Cmp202 Project-2/team-project-tingting/Frontend/src/components/Login/Login.js"],"names":["React","Component","axios","cookie","Navigate","Signup","Login","constructor","props","usernameChangeHandler","e","setState","username","target","value","passwordChangeHandler","password","submitLogin","preventDefault","fetch","then","response","ok","Error","statusText","json","data","console","log","catch","error","alert","submitSignup","window","location","assign","state","authFlag","bind","componentWillMount","render","redirectVar","load","fontFamily","fontSize","width","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport cookie from \"react-cookies\";\r\nimport { Navigate } from \"react-router\";\r\nimport Signup from \"../Signup/Signup.js\";\r\n\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n\r\n    super(props);\r\n    this.state = {\r\n      username: \"\",\r\n      password: \"\",\r\n      authFlag: false,\r\n    };\r\n    this.usernameChangeHandler = this.usernameChangeHandler.bind(this);\r\n    this.passwordChangeHandler = this.passwordChangeHandler.bind(this);\r\n    this.submitLogin = this.submitLogin.bind(this);\r\n  }\r\n\r\n  //set auth to false\r\n  componentWillMount() {\r\n    this.setState({\r\n      authFlag: false,\r\n    });\r\n  }\r\n  usernameChangeHandler = (e) => {\r\n    this.setState({\r\n      username: e.target.value,\r\n    });\r\n  };\r\n  passwordChangeHandler = (e) => {\r\n    this.setState({\r\n      password: e.target.value,\r\n    });\r\n  };\r\n  \r\n  //submit Login handler to send a request to the backend\r\n  submitLogin = (e) => {\r\n    // var headers = new Headers();\r\n    e.preventDefault();\r\n    \r\n    fetch(\"http://localhost:3001/users\")\r\n    .then((response) => {\r\n      if (!response.ok) {\r\n        throw new Error(response.statusText);\r\n      }\r\n      return response.json().then((data) => {\r\n        console.log(data)\r\n      });\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n      alert(\"Failed\");\r\n    });\r\n\r\n     // const data = {\r\n    //   username: this.state.username,\r\n    //   password: this.state.password,\r\n    // };\r\n    //set the with credentials to true\r\n    // axios.defaults.withCredentials = true;\r\n    //make a post request with the user data\r\n    // axios.post(\"http://localhost:3001/login\", data).then((response) => {\r\n    //   console.log(\"Status Code : \", response.status);\r\n    //   if (response.status === 200) {\r\n    //     this.setState({\r\n    //       authFlag: true,\r\n    //     });\r\n    //   } else {\r\n    //     this.setState({\r\n    //       authFlag: false,\r\n    //     });\r\n    //   }\r\n    // });\r\n  };\r\n\r\n  submitSignup = (e) => {\r\n    window.location.assign(\"signup\");\r\n  };\r\n  render() {\r\n    //redirect based on successful login\r\n    let redirectVar = null;\r\n    if (cookie.load(\"cookie\")) {\r\n      redirectVar = <Navigate to=\"/flight\" />;\r\n    }\r\n    return (\r\n      <div>\r\n        {redirectVar}\r\n        <div class=\"container\" style={{fontFamily:\"Copperplate\", fontSize:\"20px\", width: \"600px\"}}>\r\n          <div class=\"login-form\">\r\n            <div class=\"main-div\">\r\n              <div class=\"panel\">\r\n                <h2>Login</h2>\r\n                <p>Please enter your username and password</p>\r\n              </div>\r\n\r\n              <div class=\"form-group\">\r\n                <input\r\n                  onChange={this.usernameChangeHandler}\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  name=\"username\"\r\n                  placeholder=\"Username\"\r\n                />\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <input\r\n                  onChange={this.passwordChangeHandler}\r\n                  type=\"password\"\r\n                  class=\"form-control\"\r\n                  name=\"password\"\r\n                  placeholder=\"Password\"\r\n                />\r\n              </div>\r\n              <button onClick={this.submitLogin} class=\"btn btn-primary\">\r\n                Login\r\n              </button>\r\n            </div>\r\n            <div style={{marginTop: \"10px\"}}>\r\n              <button onClick={this.submitSignup} class=\"btn btn-primary\" >\r\n                Signup\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n//export Login Component\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}