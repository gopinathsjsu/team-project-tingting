{"ast":null,"code":"var _jsxFileName = \"/Users/ajay/Desktop/Cmp202 Project-2/team-project-tingting/Frontend/src/components/Login/Login.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport cookie from \"react-cookies\";\nimport { Navigate } from \"react-router\";\nimport Signup from \"../Signup/Signup.js\"; //Define a Login Component\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Login extends Component {\n  //call the constructor method\n  constructor(props) {\n    //Call the constrictor of Super class i.e The Component\n    super(props); //maintain the state required for this component\n\n    this.usernameChangeHandler = e => {\n      this.setState({\n        username: e.target.value\n      });\n    };\n\n    this.passwordChangeHandler = e => {\n      this.setState({\n        password: e.target.value\n      });\n    };\n\n    this.submitLogin = e => {\n      var headers = new Headers(); //prevent page from refresh\n\n      e.preventDefault();\n      const data = {\n        username: this.state.username,\n        password: this.state.password\n      }; //set the with credentials to true\n\n      axios.defaults.withCredentials = true; //make a post request with the user data\n\n      axios.post(\"http://localhost:3001/login\", data).then(response => {\n        console.log(\"Status Code : \", response.status);\n\n        if (response.status === 200) {\n          this.setState({\n            authFlag: true\n          });\n        } else {\n          this.setState({\n            authFlag: false\n          });\n        }\n      });\n    };\n\n    this.submitSignup = e => {\n      window.location.assign(\"signup\");\n    };\n\n    this.state = {\n      username: \"\",\n      password: \"\",\n      authFlag: false\n    }; //Bind the handlers to this class\n\n    this.usernameChangeHandler = this.usernameChangeHandler.bind(this);\n    this.passwordChangeHandler = this.passwordChangeHandler.bind(this);\n    this.submitLogin = this.submitLogin.bind(this);\n  } //Call the Will Mount to set the auth Flag to false\n\n\n  componentWillMount() {\n    this.setState({\n      authFlag: false\n    });\n  } //username change handler to update state variable with the text entered by the user\n\n\n  render() {\n    //redirect based on successful login\n    let redirectVar = null;\n\n    if (cookie.load(\"cookie\")) {\n      redirectVar = /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [redirectVar, /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"container\",\n        style: {\n          fontFamily: \"Copperplate\",\n          fontSize: \"20px\",\n          width: \"1000px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"login-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"main-div\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"panel\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Please enter your username and password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: this.usernameChangeHandler,\n                type: \"text\",\n                class: \"form-control\",\n                name: \"username\",\n                placeholder: \"Username\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: this.passwordChangeHandler,\n                type: \"password\",\n                class: \"form-control\",\n                name: \"password\",\n                placeholder: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: this.submitLogin,\n              class: \"btn btn-primary\",\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: this.submitSignup,\n              class: \"btn btn-primary\",\n              children: \"Signup\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this);\n  }\n\n} //export Login Component\n\n\nexport default Login;","map":{"version":3,"sources":["/Users/ajay/Desktop/Cmp202 Project-2/team-project-tingting/Frontend/src/components/Login/Login.js"],"names":["React","Component","axios","cookie","Navigate","Signup","Login","constructor","props","usernameChangeHandler","e","setState","username","target","value","passwordChangeHandler","password","submitLogin","headers","Headers","preventDefault","data","state","defaults","withCredentials","post","then","response","console","log","status","authFlag","submitSignup","window","location","assign","bind","componentWillMount","render","redirectVar","load","fontFamily","fontSize","width"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport cookie from \"react-cookies\";\r\nimport { Navigate } from \"react-router\";\r\nimport Signup from \"../Signup/Signup.js\";\r\n//Define a Login Component\r\nclass Login extends Component {\r\n  //call the constructor method\r\n  constructor(props) {\r\n    //Call the constrictor of Super class i.e The Component\r\n    super(props);\r\n    //maintain the state required for this component\r\n    this.state = {\r\n      username: \"\",\r\n      password: \"\",\r\n      authFlag: false,\r\n    };\r\n    //Bind the handlers to this class\r\n    this.usernameChangeHandler = this.usernameChangeHandler.bind(this);\r\n    this.passwordChangeHandler = this.passwordChangeHandler.bind(this);\r\n    this.submitLogin = this.submitLogin.bind(this);\r\n  }\r\n  //Call the Will Mount to set the auth Flag to false\r\n  componentWillMount() {\r\n    this.setState({\r\n      authFlag: false,\r\n    });\r\n  }\r\n  //username change handler to update state variable with the text entered by the user\r\n  usernameChangeHandler = (e) => {\r\n    this.setState({\r\n      username: e.target.value,\r\n    });\r\n  };\r\n  //password change handler to update state variable with the text entered by the user\r\n  passwordChangeHandler = (e) => {\r\n    this.setState({\r\n      password: e.target.value,\r\n    });\r\n  };\r\n  //submit Login handler to send a request to the backend\r\n  submitLogin = (e) => {\r\n    var headers = new Headers();\r\n    //prevent page from refresh\r\n    e.preventDefault();\r\n    const data = {\r\n      username: this.state.username,\r\n      password: this.state.password,\r\n    };\r\n    //set the with credentials to true\r\n    axios.defaults.withCredentials = true;\r\n    //make a post request with the user data\r\n    axios.post(\"http://localhost:3001/login\", data).then((response) => {\r\n      console.log(\"Status Code : \", response.status);\r\n      if (response.status === 200) {\r\n        this.setState({\r\n          authFlag: true,\r\n        });\r\n      } else {\r\n        this.setState({\r\n          authFlag: false,\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  submitSignup = (e) => {\r\n    window.location.assign(\"signup\");\r\n  };\r\n  render() {\r\n    //redirect based on successful login\r\n    let redirectVar = null;\r\n    if (cookie.load(\"cookie\")) {\r\n      redirectVar = <Navigate to=\"/home\" />;\r\n    }\r\n    return (\r\n      <div>\r\n        {redirectVar}\r\n        <div class=\"container\" style={{fontFamily:\"Copperplate\", fontSize:\"20px\", width: \"1000px\"}}>\r\n          <div class=\"login-form\">\r\n            <div class=\"main-div\">\r\n              <div class=\"panel\">\r\n                <h2>Login</h2>\r\n                <p>Please enter your username and password</p>\r\n              </div>\r\n\r\n              <div class=\"form-group\">\r\n                <input\r\n                  onChange={this.usernameChangeHandler}\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  name=\"username\"\r\n                  placeholder=\"Username\"\r\n                />\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <input\r\n                  onChange={this.passwordChangeHandler}\r\n                  type=\"password\"\r\n                  class=\"form-control\"\r\n                  name=\"password\"\r\n                  placeholder=\"Password\"\r\n                />\r\n              </div>\r\n              <button onClick={this.submitLogin} class=\"btn btn-primary\">\r\n                Login\r\n              </button>\r\n            </div>\r\n            <div>\r\n              <button onClick={this.submitSignup} class=\"btn btn-primary\">\r\n                Signup\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n//export Login Component\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}